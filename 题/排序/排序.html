<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>排序</title>
</head>

<body>
  <script>
    /*************** 排序通用函数 ****************/
    // 验证是否是数组
    function checkArray(array) {
      return Array.isArray(array)
    }
    // 交换值
    function swap(array, leftIndex, rightIndex) {
      let rightValue = array[rightIndex]
      array[rightIndex] = array[leftIndex]
      array[leftIndex] = rightValue
    }

    /*************** 冒泡排序 ****************/
    /**
      从第一个元素开始，把当前元素和下一个索引元素进行比较。
      如果当前元素大，那么就交换位置，重复操作直到比较到最后一个元素，那么此时最后一个元素就是该数组中最大的数。
      下一轮重复以上操作，但是此时最后一个元素已经是最大数了，所以不用再比较最后一个元素，只需比较到 length - 2 的位置
    */
    function bubble(array) {
      if (!checkArray(array)) return;
      for (let i = array.length - 1; i > 0; i--) {
        for (let j = 0; j < i; j++) {
          if (array[j] > array[j + 1]) {
            swap(array, j, j + 1)
          }
        }
      }
      return array;
    }
    let bubbleArray = [9, 2, 1, 4, 5, 8];
    console.log(bubble(bubbleArray))

    /*************** 插入排序 ****************/
    /**
      第一个元素默认是已排序元素，取出下一个元素和当前元素比较，如果当前元素大就交换位置。
      那么此时第一个元素就是当前数组的最小数，所以下次取出操作从第三个元素开始，向前对比，重复之前的操作
    */
    function insertion(array) {
      if (!checkArray(array)) return
      for (let i = 1; i < array.length; i++) {
        for (let j = i - 1; j >= 0 && array[j] > array[j + 1]; j--) {
          swap(array, j, j + 1)
        }
      }
      return array;
    }
    let insertionArray = [9, 2, 1, 4, 5, 8];
    console.log(insertion(insertionArray))

    /*************** 选择排序 ****************/
    /**
      遍历数组，设置最小值的索引为 0, 如果取出的值比当前最小值小，就替换最小值索引，遍历完成后，将第一个元素和最小值索引上的值交换。
      如上操作，第一个元素就是数组中最小值，下次遍历就可以从索引 1 开始重复上述操作
    */
    function selection(array) {
      if (!checkArray(array)) return
      for (let i = 0; i < array.length; i++) {
        let minIndex = i;
        for (let j = i + 1; j < array.length; j++) {
          minIndex = array[j] < array[minIndex] ? j : minIndex
        }
        swap(array, i, minIndex)
      }
      return array;
    }
    let selectionArray = [9, 2, 1, 4, 5, 8];
    console.log(selection(selectionArray))
  </script>
</body>

</html>