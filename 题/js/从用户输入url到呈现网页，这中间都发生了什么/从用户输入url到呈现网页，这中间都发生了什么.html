<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>从用户输入url到呈现网页，这中间都发生了什么</title>
</head>

<body>
  <!-- 
  1. DNS解析
  2. TCP连接
  3. HTTP请求
  4. 服务器处理请求并返回HTTP报文
  5. 浏览器解析渲染页面
 -->
  <script>
    /* ***********DNS解析(将用户输入的www.baidu.com查找到对应的IP)***************** */
    /*
      一个完整的浏览器域名是带小数点的（eg:www.baidu.com.）

      1. 在进行DNS解析时首先会在本地服务器查找
      2. 本地没有找到之后会进入根域名服务器中查找，也就是com后边的 .
      3. 根域名服务器没有找到之后会进入com顶级域名服务器

      整个过程：
      本地 --> . --> .com --> baidu.com --> 找到www.baidu.com对应的IP

      在查找的过程中会有多个请求，对应就会有损耗，减少损耗的办法：
      1. DNS缓存(浏览器缓存，系统缓存，路由器缓存，IPS服务器缓存，根域名服务器缓存，顶级域名服务器缓存，主域名服务器缓存)
      2. DNS负载均衡(根据每台机器的负载量，该机器离用户的地理位置的距离等返回给用户一个合适的机器的IP，又叫DNS重定向)
     */

    /* ***********TCP连接，HTTP请求***************** */
    /*
      构建HTTP请购报文并通过TCP协议发送到服务器

      HTTP请求报文的组成：
      1. 请求头
      2. 请求报文头
      3. 请求报文体
     */

    /* ***********服务器处理请求并返回HTTP报文***************** */
    /* 
      后端返回给浏览器文本信息，其中包括HTML、CSS、JS等信息
     */

    /* ***********浏览器解析渲染页面***************** */
    /* 
      1. 浏览器是一个边解析边渲染的过程
      2. 将HTML解析构建成DOM树
      3. 将CSS解析构建成CSS渲染规则
      4. CSS渲染规则渲染结束后结合DOM生成渲染书
      5. 浏览器根据渲染树进行回流再进行重绘绘制到页面上
      6. 其中如果解析过程中遇到js会阻塞代码的解析，
      7. CSS代码不影响js代码的加载，但是影响执行，所以一般将css放到 head 中，将 js 放到页面的最下边
     */
  </script>
</body>

</html>