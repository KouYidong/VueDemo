<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>数组的扩展</title>
</head>

<body>
  <script>
    /* 
      一. 
      Array.from() // 将类数组对象或可比遍历对象转换成真数组
      类数组：arguments、DOM元素集合、字符串
      Array.from(类数组);
    */
    /* 
      二. 
      Array.of(v1, v2, v3) // 将一系列值转换成数组
      new Array()构造器会根据传入参数的类型与数量的不同会有不同的结果：
    */
      // 1. 单个数值参数来调用Array构造器时，数组的长度属性会被设置该参数
      let items = new Array(2);
      console.log(items.length); // 2
      console.log(items[0]); // undefined
      console.log(items[1]); // undefined
      console.log(items[2]); // undefined
      // 2. 如果使用多个参数（无论是否为数值类型）来调用，这些参数也会成为目标数组的项
      /* 
        Array.of()方法解决了以上问题，在传入单个数值的时候不会导致特殊结果
        Array.of()方法总会创建一个包含所有传入参数的数组，而不管参数的类型与数量
      */ 
      let item1 = Array.of(1, 3);
      console.log(item1.length); // 2
      console.log(item1[0]); // 1
      console.log(item1[1]); // 3
      let item2 = Array.of(2);
      console.log(item2.length); // 1
      console.log(item2[0]); // 2

      /* 
        三
          1. 数组实例的find()和findIndex()
      */
          /* 
          find() 用于找到第一个符合条件的数组成员，它的参数是一个毁掉函数，
          所有的数组成员一次执行该回调函数，知道找到第一个返回值为true的成员，
          然后返回该成员，如果没有，则返回undefined
          */
          console.log([1, 2, 3, 4, -10].find((n) => n < 0)); // -10
          // findIndex()返回一个符合条件的数组成员的索引
          // value-当前值  index-当前索引  arr-当前数组
          [1, 5, 10, 15].findIndex(function(value, index, arr) {
            return value > 9;
          }) // 2
      /* 
        四
          数组实例的includes()
          Array.prototype.includes方法返回一个布尔值，标识数组里是否包含给定的值
          第二个参数是搜索的起始位置，默认0，
          第二个参数为负数则表示倒着开始
          如果这时它大于数组的长度（比如第二个参数为-4，但数组长度为3），则会从0开始
          --和indexOf()的差别：
            1. indexOf()不够语义化，它的含义是找到参数值的第一个出现位置，所以要去比较是否不等于-1
            2. 它内部使用严格等于进行判断，这会导致对NaN的误判
      */
          console.log([NaN].indexOf(NaN)); // -1
          console.log([NaN].includes(NaN)); // true
      /* 
        五
          数组实例的entries(),keys(),values()
      */
          // 1. entries()对键值对的遍历
          for (let [index, ele] of ['a', 'b'].entries()) {
            console.log(index, ele); // 0 "a", 1 "b"
          }
          // 2. keys() 对键名的遍历
          for (let index of ['a', 'b'].keys()) {
            console.log(index); // 0, 1
          }
          // 3. values() 对键的遍历
          for (let ele of ['a', 'b'].values()) {
            console.log(ele); // a, b
          }
  </script>
</body>

</html>